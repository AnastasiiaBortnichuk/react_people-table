(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=a(7),m=a(1),s=function(){return r.a.createElement("h1",null,"Home page")},u=a(14),i=a(13);var f=a(6),p=a.n(f),d=(a(24),function(e){var t=e.name,a=e.slug,n=e.sex,c=e.sort;return r.a.createElement(l.b,{to:"/people/".concat(a).concat(c?"/?sortBy=".concat(c):""),className:p()({man:"m"===n,woman:"f"===n})},t)}),h=(a(30),function(e){var t=e.person,a=e.people,n=e.sortByParam,c=e.sort,o=Object(m.i)().slug;return r.a.createElement("tr",{className:p()({Person:!0,selected:o===t.slug})},r.a.createElement("td",{className:p()({td:!0,sorted:"name"===n})},r.a.createElement(d,{name:t.name,slug:t.slug,sex:t.sex,sort:c})),r.a.createElement("td",{className:p()({td:!0,sorted:"sex"===n})},t.sex),r.a.createElement("td",{className:p()({td:!0,sorted:"born"===n})},t.born),r.a.createElement("td",{className:p()({td:!0,sorted:"died"===n})},t.died),r.a.createElement("td",{className:"td"},a.some((function(e){return e.name===t.motherName}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{name:t.motherName,slug:a.find((function(e){return e.name===t.motherName})).slug,sex:a.find((function(e){return e.name===t.motherName})).sex})):r.a.createElement(r.a.Fragment,null,t.motherName)),r.a.createElement("td",{className:"td"},a.some((function(e){return e.name===t.fatherName}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{name:t.fatherName,slug:a.find((function(e){return e.name===t.fatherName})).slug,sex:a.find((function(e){return e.name===t.fatherName})).sex})):r.a.createElement(r.a.Fragment,null,t.fatherName)))});h.defaultProps={people:null};a(31);var E=function(e){var t=e.people,a=e.handleSort,n=e.sortByParam,c=e.sort;return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,["name","sex","born","died","mother","father"].map((function(e){return r.a.createElement("th",{key:e,className:p()({th:!0,selected:n===e}),onClick:function(){return a(e)}},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(h,{person:e,key:e.name,people:t,sortByParam:n,sort:c})}))))};E.defaultProps={people:[]};var b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(m.g)(),l=Object(m.h)(),s=new URLSearchParams(l.search),f=s.get("sortBy")||"",p=s.get("query")||"",d=Object(n.useState)(""),h=Object(i.a)(d,2),b=h[0],N=h[1];Object(n.useEffect)((function(){fetch("".concat("https://mate-academy.github.io","/react_people-table/api/people.json")).then((function(e){return e.json()})).then((function(e){return c(e.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName})),father:e.find((function(e){return e.name===t.fatherName}))})})))}))}),[]);var g=Object(n.useMemo)((function(){var e=a.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())||e.motherName&&e.motherName.toLowerCase().includes(p.toLowerCase())||e.fatherName&&e.fatherName.toLowerCase().includes(p.toLowerCase())}));switch(f){case"born":return e.sort((function(e,t){return e.born-t.born}));case"died":return e.sort((function(e,t){return e.died-t.died}));case"sex":return e.sort((function(e,t){return e.sex.localeCompare(t.sex)}));case"name":return e.sort((function(e,t){return e.name.localeCompare(t.name)}));default:return e}}),[a,p,f]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Search person ",r.a.createElement("input",{type:"text",value:p,onChange:function(e){s.set("query",e.target.value),o.push({search:s.toString()})}})),r.a.createElement(E,{people:g,handleSort:function(e){switch(e===f&&g.reverse(),e){case"born":case"died":case"sex":case"name":N(e),s.set("sortBy","".concat(e)),o.push({search:s.toString()});break;default:return null}},sortByParam:f,sort:b}))},N=function(){return r.a.createElement("h1",null,"Page not found")},g=(a(32),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"nav"},r.a.createElement(l.c,{to:"/",activeClassName:"active",className:"nav__link"},"Home"),r.a.createElement(l.c,{to:"/people",activeClassName:"active",className:"nav__link"},"People")),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:s}),r.a.createElement(m.b,{path:"/people/:slug?",component:b}),r.a.createElement(m.b,{path:"/home",exact:!0},r.a.createElement(m.a,{to:"/"})),r.a.createElement(m.b,{path:"*",component:N})))});o.a.render(r.a.createElement(l.a,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4f3a4c61.chunk.js.map
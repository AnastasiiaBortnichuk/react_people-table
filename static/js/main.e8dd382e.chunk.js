(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(7),m=a(1),s=function(){return r.a.createElement("h1",null,"Home page")},u=a(13),i=a(18);var f=a(3),d=a.n(f),h=(a(24),function(e){var t=e.name,a=e.slug,n=e.sex;return r.a.createElement(o.b,{to:"/people/".concat(a),className:d()({man:"m"===n,woman:"f"===n})},t)}),p=(a(30),function(e){var t=e.person,a=e.people,n=e.sortByParam,c=Object(m.i)().slug;return r.a.createElement("tr",{className:d()({Person:!0,selected:c===t.slug})},r.a.createElement("td",{className:d()({td:!0,sorted:"name"===n})},r.a.createElement(h,{name:t.name,slug:t.slug,sex:t.sex})),r.a.createElement("td",{className:d()({td:!0,sorted:"sex"===n})},t.sex),r.a.createElement("td",{className:d()({td:!0,sorted:"born"===n})},t.born),r.a.createElement("td",{className:d()({td:!0,sorted:"died"===n})},t.died),r.a.createElement("td",{className:"td"},a.some((function(e){return e.name===t.motherName}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{name:t.motherName,slug:a.find((function(e){return e.name===t.motherName})).slug,sex:a.find((function(e){return e.name===t.motherName})).sex})):r.a.createElement(r.a.Fragment,null,t.motherName)),r.a.createElement("td",{className:"td"},a.some((function(e){return e.name===t.fatherName}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{name:t.fatherName,slug:a.find((function(e){return e.name===t.fatherName})).slug,sex:a.find((function(e){return e.name===t.fatherName})).sex})):r.a.createElement(r.a.Fragment,null,t.fatherName)))});p.defaultProps={people:null};a(31);var E=function(e){var t=e.people,a=e.handleSort,n=e.sortByParam;return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:d()({th:!0,selected:"name"===n}),onClick:function(){return a("name")}},"Name"),r.a.createElement("th",{className:d()({th:!0,selected:"sex"===n}),onClick:function(){return a("sex")}},"Sex"),r.a.createElement("th",{onClick:function(){return a("born")},className:d()({th:!0,selected:"born"===n})},"Born"),r.a.createElement("th",{onClick:function(){return a("died")},className:d()({th:!0,selected:"died"===n})},"Died"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(p,{person:e,key:e.name,people:t,sortByParam:n})}))))};E.defaultProps={people:[]};var N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(m.g)(),o=Object(m.h)(),s=new URLSearchParams(o.search),f=s.get("sortBy")||"",d=s.get("query")||"";Object(n.useEffect)((function(){fetch("".concat("https://mate-academy.github.io","/react_people-table/api/people.json")).then((function(e){return e.json()})).then((function(e){return c(e.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName})),father:e.find((function(e){return e.name===t.fatherName}))})})))}))}),[]);var h=Object(n.useMemo)((function(){var e=a.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())||e.motherName&&e.motherName.toLowerCase().includes(d.toLowerCase())||e.fatherName&&e.fatherName.toLowerCase().includes(d.toLowerCase())}));switch(f){case"born":return e.sort((function(e,t){return e.born-t.born}));case"died":return e.sort((function(e,t){return e.died-t.died}));case"sex":return e.sort((function(e,t){return e.sex.localeCompare(t.sex)}));case"name":return e.sort((function(e,t){return e.name.localeCompare(t.name)}));default:return e}}),[a,d,f]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Search person ",r.a.createElement("input",{type:"text",value:d,onChange:function(e){s.set("query",e.target.value),l.push({search:s.toString()})}})),r.a.createElement(E,{people:h,handleSort:function(e){switch(e){case"born":case"died":case"sex":case"name":s.set("sortBy","".concat(e)),l.push({search:s.toString()});break;default:return null}},sortByParam:f}))},b=function(){return r.a.createElement("h1",null,"Page not found")},g=(a(32),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"nav"},r.a.createElement(o.c,{to:"/",activeClassName:"active",className:"nav__link"},"Home"),r.a.createElement(o.c,{to:"/people",activeClassName:"active",className:"nav__link"},"People")),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:s}),r.a.createElement(m.b,{path:"/people/:slug?",component:N}),r.a.createElement(m.b,{path:"/home",exact:!0},r.a.createElement(m.a,{to:"/"})),r.a.createElement(m.b,{path:"*",component:b})))});l.a.render(r.a.createElement(o.a,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.e8dd382e.chunk.js.map
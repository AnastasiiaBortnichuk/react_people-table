{"version":3,"sources":["components/HomePage/HomePage.jsx","components/PersonName/PersonName.jsx","components/PersonRow/PersonRow.jsx","components/PeopleTable/PeopleTable.jsx","components/PeoplePage/PeoplePage.jsx","api/api.js","components/NotFoundPage/NotFoundPage.jsx","App.jsx","index.js"],"names":["HomePage","PersonName","name","slug","sex","sort","to","className","classNames","man","woman","PersonRow","person","people","sortByParam","useParams","Person","selected","td","sorted","born","died","some","parent","motherName","find","fatherName","defaultProps","PeopleTable","handleSort","map","item","key","th","onClick","PeoplePage","useState","setPeople","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","get","query","setSort","useEffect","fetch","then","result","json","mother","father","filteredPeople","useMemo","filtered","filter","p","toLowerCase","includes","a","b","localeCompare","type","value","onChange","event","set","target","push","toString","sortBy","reverse","NotFoundPage","App","activeClassName","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f3a4c61.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage = () => <h1>Home page</h1>;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './PersonName.scss';\n\nexport const PersonName = ({ name, slug, sex, sort }) => (\n  <Link\n    to={`/people/${slug}${(sort) ? `/?sortBy=${sort}` : ''}`}\n    className={classNames({\n      man: sex === 'm',\n      woman: sex === 'f',\n    })}\n  >\n    {name}\n  </Link>\n);\n\nPersonName.propTypes = {\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  sex: PropTypes.string.isRequired,\n  sort: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { PersonName } from '../PersonName';\nimport './PersonRow.scss';\n\nexport const PersonRow = ({ person, people, sortByParam, sort }) => {\n  const { slug } = useParams();\n\n  return (\n    <tr className={classNames({\n      Person: true,\n      selected: slug === person.slug,\n    })}\n    >\n      <td className={classNames({\n        td: true,\n        sorted: sortByParam === 'name',\n      })}\n      >\n        <PersonName\n          name={person.name}\n          slug={person.slug}\n          sex={person.sex}\n          sort={sort}\n        />\n      </td>\n      <td className={classNames({\n        td: true,\n        sorted: sortByParam === 'sex',\n      })}\n      >\n        {person.sex}\n      </td>\n      <td className={classNames({\n        td: true,\n        sorted: sortByParam === 'born',\n      })}\n      >\n        {person.born}\n      </td>\n      <td className={classNames({\n        td: true,\n        sorted: sortByParam === 'died',\n      })}\n      >\n        {person.died}\n      </td>\n      <td className=\"td\">\n        {(people.some(parent => parent.name === person.motherName)\n          ? (\n            <>\n              <PersonName\n                name={person.motherName}\n                slug={people.find(parent => parent.name === person.motherName)\n                  .slug}\n                sex={people.find(parent => parent.name === person.motherName)\n                  .sex}\n              />\n            </>\n          )\n          : <>{person.motherName}</>\n        )}\n      </td>\n      <td className=\"td\">\n        {(people.some(parent => parent.name === person.fatherName)\n          ? (\n            <>\n              <PersonName\n                name={person.fatherName}\n                slug={people.find(parent => parent.name === person.fatherName)\n                  .slug}\n                sex={people.find(parent => parent.name === person.fatherName)\n                  .sex}\n              />\n            </>\n          )\n          : <>{person.fatherName}</>\n        )}\n      </td>\n    </tr>\n  );\n};\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    motherName: PropTypes.string,\n    fatherName: PropTypes.string,\n    slug: PropTypes.string.isRequired,\n  }).isRequired,\n  people: PropTypes.arrayOf(PropTypes.object),\n  sortByParam: PropTypes.string.isRequired,\n  sort: PropTypes.string.isRequired,\n};\n\nPersonRow.defaultProps = {\n  people: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { PersonRow } from '../PersonRow';\nimport './PeopleTable.scss';\n\nexport const PeopleTable = ({ people, handleSort, sortByParam, sort }) => (\n  <table className=\"PeopleTable\">\n    <thead>\n      <tr>\n        {['name', 'sex', 'born', 'died', 'mother', 'father'].map(item => (\n          <th\n            key={item}\n            className={classNames({\n              th: true, selected: sortByParam === item,\n            })}\n            onClick={() => handleSort(item)}\n          >\n            {item}\n          </th>\n        ))}\n      </tr>\n    </thead>\n    <tbody>\n      {people.map(person => (\n        <PersonRow\n          person={person}\n          key={person.name}\n          people={people}\n          sortByParam={sortByParam}\n          sort={sort}\n        />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object),\n  handleSort: PropTypes.func.isRequired,\n  sortByParam: PropTypes.string.isRequired,\n  sort: PropTypes.string.isRequired,\n};\n\nPeopleTable.defaultProps = {\n  people: [],\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { getPeople } from '../../api/api';\nimport { PeopleTable } from '../PeopleTable';\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState([]);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortByParam = searchParams.get('sortBy') || '';\n  const query = searchParams.get('query') || '';\n  const [sort, setSort] = useState('');\n\n  useEffect(() => {\n    getPeople()\n      .then(result => setPeople(result\n        .map(person => (\n          {\n            ...person,\n            mother: result.find(item => item.name === person.motherName),\n            father: result.find(item => item.name === person.fatherName),\n          }\n        ))));\n  }, []);\n\n  const filteredPeople = useMemo(() => {\n    const filtered = people.filter(p => p.name.toLowerCase()\n      .includes(query.toLowerCase())\n    || (p.motherName && p.motherName.toLowerCase()\n      .includes(query.toLowerCase()))\n    || (p.fatherName && p.fatherName.toLowerCase()\n      .includes(query.toLowerCase())));\n\n    switch (sortByParam) {\n      case 'born':\n        return filtered.sort((a, b) => a.born - b.born);\n\n      case 'died':\n        return filtered.sort((a, b) => a.died - b.died);\n\n      case 'sex':\n        return filtered.sort((a, b) => a.sex.localeCompare(b.sex));\n\n      case 'name':\n        return filtered.sort((a, b) => a.name.localeCompare(b.name));\n\n        // case 'mother':\n        //   return filtered.sort((a, b) => a.motherName\n        //     .localeCompare(b.motherName));\n\n        // case 'father':\n        //   return filtered.sort((a, b) => a.fatherName\n        //     .localeCompare(b.fatherName));\n\n      default:\n        return filtered;\n    }\n  }, [people, query, sortByParam]);\n\n  // eslint-disable-next-line consistent-return\n  const sortPeople = (sortBy) => {\n    if (sortBy === sortByParam) {\n      filteredPeople.reverse();\n    }\n\n    switch (sortBy) {\n      case 'born':\n      case 'died':\n      case 'sex':\n      case 'name':\n      // case 'mother':\n      // case 'father':\n        setSort(sortBy);\n        searchParams.set('sortBy', `${sortBy}`);\n        history.push({\n          search: searchParams.toString(),\n        });\n        break;\n\n      default: return null;\n    }\n  };\n\n  return (\n    <>\n      <label>\n        {`Search person `}\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(event) => {\n            searchParams.set('query', event.target.value);\n            history.push({\n              search: searchParams.toString(),\n            });\n          }}\n        />\n      </label>\n      <PeopleTable\n        people={filteredPeople}\n        handleSort={sortPeople}\n        sortByParam={sortByParam}\n        sort={sort}\n      />\n    </>\n  );\n};\n","const BASE_URL = 'https://mate-academy.github.io';\n\nexport function getPeople() {\n  return fetch(`${BASE_URL}/react_people-table/api/people.json`)\n    .then(result => result.json());\n}\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <h1>Page not found</h1>\n);\n","import React from 'react';\nimport { Route, NavLink, Switch, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <nav className=\"nav\">\n      <NavLink\n        to=\"/\"\n        activeClassName=\"active\"\n        className=\"nav__link\"\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/people\"\n        activeClassName=\"active\"\n        className=\"nav__link\"\n      >\n        People\n      </NavLink>\n    </nav>\n    <Switch>\n      <Route path=\"/\" exact component={HomePage} />\n      <Route\n        path=\"/people/:slug?\"\n        component={PeoplePage}\n      />\n      <Route path=\"/home\" exact>\n        <Redirect to=\"/\" />\n      </Route>\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}
{"version":3,"sources":["components/HomePage/HomePage.jsx","components/PersonName/PersonName.jsx","components/PersonRow/PersonRow.jsx","components/PeopleTable/PeopleTable.jsx","components/PeoplePage/PeoplePage.jsx","api/api.js","components/NotFoundPage/NotFoundPage.jsx","App.jsx","index.js"],"names":["HomePage","PersonName","name","slug","sex","to","className","classNames","man","woman","PersonRow","person","people","match","Person","selected","params","born","died","some","parent","motherName","find","fatherName","defaultProps","PeopleTable","onClick","sort","a","b","map","key","PeoplePage","useState","setPeople","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","query","get","useEffect","fetch","then","result","json","mother","item","father","console","log","type","value","onChange","event","set","target","push","toString","filter","p","toLowerCase","includes","NotFoundPage","App","activeClassName","path","exact","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.03a33619.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage = () => <h1>Home page</h1>;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './PersonName.scss';\n\nexport const PersonName = ({ name, slug, sex }) => (\n  <Link\n    to={`/people/${slug}`}\n    className={classNames({\n      man: sex === 'm',\n      woman: sex === 'f',\n    })}\n  >\n    {name}\n  </Link>\n);\n\nPersonName.propTypes = {\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  sex: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { PersonName } from '../PersonName';\nimport './PersonRow.scss';\n\nexport const PersonRow = ({ person, people, match }) => (\n  <tr className={classNames({\n    Person: true,\n    selected: match.params.slug === person.slug,\n  })}\n  >\n    <td>\n      <PersonName\n        name={person.name}\n        slug={person.slug}\n        sex={person.sex}\n      />\n    </td>\n    <td>{person.sex}</td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>\n      {(people.some(parent => parent.name === person.motherName)\n        ? (\n          <>\n            <PersonName\n              name={person.motherName}\n              slug={people.find(parent => parent.name === person.motherName)\n                .slug}\n              sex={people.find(parent => parent.name === person.motherName).sex}\n            />\n          </>\n        )\n        : <>{person.motherName}</>\n      )}\n    </td>\n    <td>\n      {(people.some(parent => parent.name === person.fatherName)\n        ? (\n          <>\n            <PersonName\n              name={person.fatherName}\n              slug={people.find(parent => parent.name === person.fatherName)\n                .slug}\n              sex={people.find(parent => parent.name === person.fatherName).sex}\n            />\n          </>\n        )\n        : <>{person.fatherName}</>\n      )}\n    </td>\n  </tr>\n);\n\nPersonRow.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    motherName: PropTypes.string,\n    fatherName: PropTypes.string,\n    slug: PropTypes.string.isRequired,\n  }).isRequired,\n  people: PropTypes.arrayOf(PropTypes.object),\n};\n\nPersonRow.defaultProps = {\n  people: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PersonRow } from '../PersonRow';\nimport './PeopleTable.scss';\n\nexport const PeopleTable = ({ people, match }) => (\n\n  <table className=\"PeopleTable\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Sex</th>\n        <th onClick={() => people.sort((a, b) => a.born - b.born)}>Born</th>\n        <th>Died</th>\n        <th>Mother</th>\n        <th>Father</th>\n      </tr>\n    </thead>\n    <tbody>\n      {people && people.map(person => (\n        <PersonRow\n          person={person}\n          key={person.name}\n          people={people}\n          match={match}\n        />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object),\n};\n\nPeopleTable.defaultProps = {\n  people: null,\n};\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { getPeople } from '../../api/api';\nimport { PeopleTable } from '../PeopleTable';\n\nexport const PeoplePage = ({ match }) => {\n  const [people, setPeople] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n\n  useEffect(() => {\n    getPeople()\n      .then(result => setPeople(result\n        .map(person => (\n          {\n            ...person,\n            mother: result.find(item => item.name === person.motherName),\n            father: result.find(item => item.name === person.fatherName),\n          }\n        ))));\n  }, []);\n\nconsole.log(people);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={(event) => {\n          searchParams.set('query', event.target.value);\n          history.push({\n            search: searchParams.toString(),\n          });\n        }}\n      />\n      {people && (\n        <>\n          <PeopleTable\n            people={people.filter(p => p.name.toLowerCase()\n              .includes(query.toLowerCase())\n              || (p.motherName && p.motherName.toLowerCase()\n                .includes(query.toLowerCase()))\n              || (p.fatherName && p.fatherName.toLowerCase()\n                .includes(query.toLowerCase())))}\n            match={match}\n          />\n        </>\n      )\n      }\n    </>\n  );\n};\n","const BASE_URL = 'https://mate-academy.github.io';\n\nexport function getPeople() {\n  return fetch(`${BASE_URL}/react_people-table/api/people.json`)\n    .then(result => result.json());\n}\n","import React from 'react';\n\nexport const NotFoundPage = () => (\n  <h1>Page not found</h1>\n);\n","import React from 'react';\nimport { Route, NavLink, Switch, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <nav className=\"nav\">\n      <NavLink\n        to=\"/\"\n        activeClassName=\"active\"\n        className=\"nav__link\"\n      >\n        Home\n      </NavLink>\n      <NavLink\n        to=\"/people\"\n        activeClassName=\"active\"\n        className=\"nav__link\"\n      >\n        People\n      </NavLink>\n    </nav>\n    <Switch>\n      <Route path=\"/\" exact component={HomePage} />\n      <Route\n        path=\"/people/:slug?\"\n        render={({ match }) => (\n          <PeoplePage match={match} />\n        )}\n      />\n      <Route path=\"/home\" exact>\n        <Redirect to=\"/\" />\n      </Route>\n      <Route path=\"*\" component={NotFoundPage} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}